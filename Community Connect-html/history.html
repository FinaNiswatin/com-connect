<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Activity History</title>
  <link rel="stylesheet" href="dashboard.css" />
  <!-- Font Awesome Cdn Link -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />
  <style>
    /* Tambahkan CSS tambahan di sini untuk responsif */
    @media only screen and (max-width: 600px) {
      /* Contoh: Atur lebar tabel agar responsif */
      table {
        width: 100%;
      }
    }

    /* CSS untuk pop-up */
    .popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgb(95, 121, 113);
      border: 1px solid #9a3737;
      padding: 20px;
      z-index: 999;
      /* Modifikasi warna dan padding */
      background-color: #82ccb8;
      /* Warna latar belakang pop-up */
      border-radius: 10px;
      /* Sudut border pop-up */
      box-shadow: 0 0 20px rgba(19, 19, 19, 0.1);
      /* Bayangan pop-up */
      /* Atur lebar dan tinggi pop-up */
      width: 400px;
      /* Lebar pop-up */
      height: auto;
      /* Tinggi pop-up (otomatis menyesuaikan konten) */
    }

    /* CSS untuk label pada form */
    .popup label {
      display: block;
      margin-bottom: 10px;
      color: #333;
      /* Warna label */
    }

    /* CSS untuk input pada form */
    .popup input,
    .popup select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      /* Warna border input */
      border-radius: 5px;
      /* Sudut border input */
      margin-bottom: 15px;
      box-sizing: border-box;
      outline: none;
    }

    /* CSS untuk tombol pada form */
    .popup button {
      padding: 10px 20px;
      background-color: #007bff;
      /* Warna latar tombol */
      color: #fff;
      /* Warna teks tombol */
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .popup button:hover {
      background-color: #0056b3;
      /* Warna latar tombol saat dihover */
    }

    /* Menambahkan efek hover pada menu sidebar */
    .side_navbar a:hover {
      background-color: #6ba488bc;
      color: #fbfffde0;
      /* Warna font saat dihover */
      border-radius: 25px;
      /* Membuat sudut menu menjadi oval */
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      /* Menambahkan bayangan saat dihover */
    }

    /* CSS untuk side bar */
    nav#sidebar {
      position: fixed;
      left: 0;
      top: 0;
      bottom: 0;
      width: 250px;
      /* Lebar sidebar saat ditampilkan */
      background-color: #454f48e0;
      padding-top: 50px;
      transition: width 0.3s;
      /* Transisi hanya pada lebar */
      z-index: 9999;
      /* Menempatkan sidebar di atas konten utama */
    }

    /* CSS untuk link di sidebar */
    .side_navbar a {
      color: #fff;
      /* Ubah warna font sesuai keinginan */
    }

    /* CSS untuk ikon di sidebar */
    .side_navbar i {
      color: hsl(0, 0%, 98%);
      /* Warna ikon pada sidebar */
    }

    /* Atur tata letak overlay saat sidebar disembunyikan */
    .overlay.collapsed {
      display: none;
    }

    /* CSS untuk kotak pencarian */
    .search_box {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: center;
    }

    .search_box input[type="text"] {
      padding: 10px;
      border-radius: 5px;
      border: none;
      outline: none;
    }

    /* Atur tampilan ikon pencarian */
    .search_box i {
      margin-left: 5px;
      color: #007bff;
      cursor: pointer;
    }

    /* Atur margin konten utama saat sidebar disembunyikan */
    .main-body.collapsed {
      margin-left: 50px;
      /* Sesuaikan dengan lebar sidebar yang disembunyikan */
    }

    /* CSS untuk header */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 60px;
      padding: 20px;
      background: #3e3636c4;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header .profile-info .logo img {
      width: 20px;
      /* Ubah ukuran gambar profil */
      height: 20px;
      /* Ubah ukuran gambar profil */
      border-radius: 50%;
      /* Membuat gambar profil menjadi lingkaran */
    }

    .header .logo a {
      color: #000;
      font-size: 18px;
      font-weight: 600;
      margin-right: 2rem;
    }

    .header .search_box input {
      padding: 10px;
      width: 250px;
      background: rgb(228, 228, 228);
      border: none;
      border-top-left-radius: 5px;
      border-bottom-left-radius: 5px;
      font-size: 14px;
    }

    .header .search_box i {
      padding: 10px;
      cursor: pointer;
      color: #fff;
      background: #000;
      border-top-right-radius: 5px;
      border-bottom-right-radius: 5px;
    }

    .header .header-icons i {
      margin-right: 2rem;
      cursor: pointer;
      font-size: 18px;
    }

    .header .header-icons .account img {
      width: 35px;
      height: 35px;
      border-radius: 50%;
    }

    /* CSS untuk toggle sidebar */
    .toggle-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      cursor: pointer;
      color: #fff;
      z-index: 9999;
    }

    .toggle-btn i {
      font-size: 24px;
    }
  </style>
</head>

<body>
  <header class="header">
    <div class="profile-info">
      <div class="logo">
        <img src="images/icon2.jpg" alt="">
        <h4>Fina Niswatin</h4>
      </div>
      <div class="search_box">
        <input type="text" placeholder="Search">
        <i class="fas fa-search"></i>
      </div>
    </div>
    <div class="header-icons"></div>
  </header>
  <div class="container">
    <div class="toggle-btn" onclick="toggleSidebar()">
      <i class="fas fa-bars"></i>
    </div>
    <nav id="sidebar">
      <!-- Konten sidebar -->
      <div class="side_navbar">
        <a href="#" class="active"><i class="fas fa-home"></i> Back to Home</a>
        <a href="dashboard.html"><i class="fas fa-user"></i> My Profile</a>
        <a href="history.html"><i class="fas fa-history"></i> Activity History</a>
        <!-- Mengarahkan ke halaman history.html -->
        <a href="poin.html"><i class="fas fa-coins"></i> My Points</a>
        <a href="#"><i class="fas fa-gift"></i> Rewards</a>
        <div class="links">
          <a href="#"><i class="fas fa-cog"></i> Settings</a>
          <a href="#"><i class="fas fa-address-book"></i> Contact</a>
          <a href="#"><i class="fas fa-question-circle"></i> Help</a>
          <a href="#"><i class="fas fa-sign-out-alt"></i> Log Out</a>
        </div>
      </div>
    </nav>

    <div class="overlay" onclick="toggleSidebar()"></div>

    <div class="main-body">
      <h2>Activity History</h2>
      <div class="history_lists">
        <div class="list1">
          <table id="activityTable">
            <thead>
              <tr>
                <th>Tanggal Kegiatan</th>
                <th>Nama Kegiatan</th>
                <th>Lingkup Kegiatan</th>
                <th>Keterangan</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <!-- Isi tabel dengan data history kegiatan -->
              <tr>
                <td>01/04/2024</td>
                <td>Rapat Pemasaran</td>
                <td>Internal</td>
                <td>Sudah Terlaksana</td>
                <td>
                  <button onclick="editRow(this)"><i class="fas fa-edit"></i></button>
                  <button onclick="deleteRow(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
              </tr>
              <tr>
                <td>02/04/2024</td>
                <td>Pelatihan Produk Baru</td>
                <td>Eksternal</td>
                <td>Belum Terlaksana</td>
                <td>
                  <button onclick="editRow(this)"><i class="fas fa-edit"></i></button>
                  <button onclick="deleteRow(this)"><i class="fas fa-trash-alt"></i></button>
                </td>
              </tr>
              <!-- Tambahkan data kegiatan sesuai kebutuhan -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Pop-up untuk edit -->
      <div id="editPopup" class="popup">
        <h3>Edit Activity</h3>
        <form id="editActivityForm">
          <label for="editActivityDate">Tanggal Kegiatan:</label>
          <input type="date" id="editActivityDate" name="editActivityDate"><br><br>
          <label for="editActivityName">Nama Kegiatan:</label>
          <input type="text" id="editActivityName" name="editActivityName"><br><br>
          <label for="editActivityScope">Lingkup Kegiatan:</label>
          <select id="editActivityScope" name="editActivityScope">
            <option value="Daerah">Daerah</option>
            <option value="Nasional">Nasional</option>
          </select><br><br>
          <label for="editActivityStatus">Status Kegiatan:</label>
          <select id="editActivityStatus" name="editActivityStatus">
            <option value="Sudah Terlaksana">Sudah Terlaksana</option>
            <option value="Belum Terlaksana">Belum Terlaksana</option>
          </select><br><br>
          <button type="button" onclick="updateRow()">Update</button>
          <input type="hidden" id="editRowIndex" value="">
        </form>
      </div>

      <!-- Form untuk menambahkan kegiatan -->
      <div class="add-form">
        <h3>Add Activity</h3>
        <form id="addActivityForm">
          <label for="activityDate">Tanggal Kegiatan:</label>
          <input type="date" id="activityDate" name="activityDate"><br><br>
          <label for="activityName">Nama Kegiatan:</label>
          <input type="text" id="activityName" name="activityName"><br><br>
          <label for="activityScope">Lingkup Kegiatan:</label>
          <select id="activityScope" name="activityScope">
            <option value="Daerah">Daerah</option>
            <option value="Nasional">Nasional</option>
          </select><br><br>
          <label for="activityStatus">Status Kegiatan:</label>
          <select id="activityStatus" name="activityStatus">
            <option value="Sudah Terlaksana">Sudah Terlaksana</option>
            <option value="Belum Terlaksana">Belum Terlaksana</option>
          </select><br><br>
          <button type="button" onclick="addActivity()">Submit</button>
        </form>
      </div>

    </div>

    <nav id="sidebar">
      <!-- Konten sidebar -->
      <div class="side_navbar">
        <a href="#" class="active"><i class="fas fa-home"></i> Back to Home</a>
        <a href="dashboard.html"><i class="fas fa-user"></i> My Profile</a>
        <a href="history.html"><i class="fas fa-history"></i> Activity History</a>
        <!-- Mengarahkan ke halaman history.html -->
        <a href="poin.html"><i class="fas fa-coins"></i> My Points</a>
        <a href="#"><i class="fas fa-gift"></i> Rewards</a>
        <div class="links">
          <a href="#"><i class="fas fa-cog"></i> Settings</a>
          <a href="#"><i class="fas fa-address-book"></i> Contact</a>
          <a href="#"><i class="fas fa-question-circle"></i> Help</a>
          <a href="#"><i class="fas fa-sign-out-alt"></i> Log Out</a>
        </div>
      </div>
      <div class="toggle-btn" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </div>
    </nav>

    <div class="overlay" onclick="toggleSidebar()"></div>

  </div>

  <script>
    // Tambahkan kode ini ke dashboard.js
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.querySelector('.overlay');
      const mainBody = document.querySelector('.main-body');
      sidebar.classList.toggle('collapsed');
      overlay.classList.toggle('collapsed');
      if (sidebar.classList.contains('collapsed')) {
        sidebar.style.width = '50px'; // Mengubah lebar sidebar saat disembunyikan
      } else {
        sidebar.style.width = '250px'; // Mengembalikan lebar sidebar saat ditampilkan kembali
      }
      mainBody.classList.toggle('collapsed'); // Toggle class collapsed pada main-body
    }

    function editRow(button) {
      var row = button.parentNode.parentNode;
      var cells = row.getElementsByTagName("td");
      var activityDate = cells[0].innerText;
      var activityName = cells[1].innerText;
      var activityScope = cells[2].innerText;
      var activityStatus = cells[3].innerText;

      // Menyimpan indeks baris yang diedit
      document.getElementById("editRowIndex").value = row.rowIndex;

      document.getElementById("editActivityDate").value = activityDate;
      document.getElementById("editActivityName").value = activityName;
      document.getElementById("editActivityScope").value = activityScope;
      document.getElementById("editActivityStatus").value = activityStatus;

      // Menampilkan pop-up edit
      document.getElementById("editPopup").style.display = "block";
    }

    function updateRow() {
      var rowIndex = document.getElementById("editRowIndex").value;
      var activityDate = document.getElementById("editActivityDate").value;
      var activityName = document.getElementById("editActivityName").value;
      var activityScope = document.getElementById("editActivityScope").value;
      var activityStatus = document.getElementById("editActivityStatus").value;

      // Mendapatkan baris yang akan diperbarui
      var row = document.getElementById("activityTable").rows[rowIndex];
      var cells = row.getElementsByTagName("td");

      // Memperbarui nilai sel-sel dalam baris
      cells[0].innerText = activityDate;
      cells[1].innerText = activityName;
      cells[2].innerText = activityScope;
      cells[3].innerText = activityStatus;

      // Sembunyikan pop-up setelah pembaruan
      document.getElementById("editPopup").style.display = "none";
    }

    function deleteRow(button) {
      var row = button.parentNode.parentNode;
      row.parentNode.removeChild(row);
    }

    function addActivity() {
      var activityDate = document.getElementById("activityDate").value;
      var activityName = document.getElementById("activityName").value;
      var activityScope = document.getElementById("activityScope").value;
      var activityStatus = document.getElementById("activityStatus").value;

      // Membuat elemen baris baru dalam tabel
      var newRow = document.createElement("tr");
      newRow.innerHTML = "<td>" + activityDate + "</td>" +
                         "<td>" + activityName + "</td>" +
                         "<td>" + activityScope + "</td>" +
                         "<td>" + activityStatus + "</td>" +
                         "<td><button onclick='editRow(this)'><i class='fas fa-edit'></i></button>" +
                         "<button onclick='deleteRow(this)'><i class='fas fa-trash-alt'></i></button></td>";

      // Menambahkan baris baru ke dalam tabel
      var tableBody = document.getElementById("activityTable").getElementsByTagName("tbody")[0];
      tableBody.appendChild(newRow);

      // Mengosongkan formulir setelah menambahkan kegiatan
      document.getElementById("addActivityForm").reset();
    }
  </script>

</body>

</html>
